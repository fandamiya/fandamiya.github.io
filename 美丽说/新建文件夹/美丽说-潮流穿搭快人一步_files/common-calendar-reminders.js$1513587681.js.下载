define("Swiper",function(){function n(n,t){"use strict";function e(){m=g.children,b=m.length,m.length<2&&(t.continuous=!1),E.transitions&&t.continuous&&m.length<3&&(g.appendChild(m[0].cloneNode(!0)),g.appendChild(g.children[1].cloneNode(!0)),m=g.children),x=new Array(m.length),w=n.getBoundingClientRect().width||n.offsetWidth,g.style.width=m.length*w+"px";for(var e=m.length;e--;){var i=m[e];i.style.width=w+"px",i.setAttribute("data-index",e),E.transitions&&(i.style.left=e*-w+"px",r(e,T>e?-w:e>T?w:0,0))}t.continuous&&E.transitions&&(r(s(T-1),-w,0),r(s(T+1),w,0)),E.transitions||(g.style.left=T*-w+"px"),$(n).hasClass("fadeMode")?($(n).css({visibility:"visible;",opacity:"0"}),$(n).fadeIn()):n.style.visibility="visible"}function i(){t.continuous?a(T-1):T&&a(T-1)}function o(){t.continuous?a(T+1):T<m.length-1&&a(T+1)}function s(n){return(m.length+n%m.length)%m.length}function a(n,e){if(T!=n){if(E.transitions){var i=Math.abs(T-n)/(T-n);if(t.continuous){var o=i;i=-x[s(n)]/w,i!==o&&(n=-i*m.length+n)}for(var a=Math.abs(T-n)-1;a--;)r(s((n>T?n:T)-a-1),w*i,0);n=s(n),r(T,w*i,e||y),r(n,0,e||y),t.continuous&&r(s(n-i),-(w*i),0)}else n=s(n),c(T*-w,n*-w,e||y);T=n,p(t.callback&&t.callback(T,m[T]))}}function r(n,t,e){u(n,t,e),x[n]=t}function u(n,t,e){var i=m[n],o=i&&i.style;if(h)for(var s=0;s<m.length;s++)m[s].style.position="absolute";o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=e+"ms",v?h?o.left=t+"px":o.webkitTransform="translate3d("+t+"px,0,0)":h?o.left=t+"px":o.webkitTransform="translate("+t+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+t+"px)")}function c(n,e,i){if(!i)return void(g.style.left=e+"px");var o=+new Date,s=setInterval(function(){var a=+new Date-o;return a>i?(g.style.left=e+"px",D&&d(),t.transitionEnd&&t.transitionEnd.call(event,T,m[T]),void clearInterval(s)):void(g.style.left=(e-n)*(Math.floor(a/i*100)/100)+n+"px")},4)}function d(){L=setTimeout(o,D)}function l(){D=0,clearTimeout(L)}var v=!1;($.os.iphone&&$.os.version>="5"||$.os.android&&$.os.version>="4")&&(v=!0);var h=!1;$.os.iphone&&8==parseInt($.os.version)&&(h=!0,$(n.children[0]).height($(n).height()+"px"));var f=function(){},p=function(n){setTimeout(n||f,0)},E={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(n){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var e in t)if(void 0!==n.style[t[e]])return!0;return!1}(document.createElement("swipe"))};if(n){var m,x,w,b,g=n.children[0];t=t||{};var T=parseInt(t.startSlide,10)||0,y=t.speed||300;t.continuous=void 0!==t.continuous?t.continuous:!0;var L,k,D=t.auto||0,M={},z={},I={handleEvent:function(n){switch(n.type){case"touchstart":this.start(n);break;case"touchmove":this.move(n);break;case"touchend":p(this.end(n));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":p(this.transitionEnd(n));break;case"resize":p(e.call())}t.stopPropagation&&n.stopPropagation()},start:function(n){var t=n.touches[0];M={x:t.pageX,y:t.pageY,time:+new Date},k=void 0,z={},g.addEventListener("touchmove",this,!1),g.addEventListener("touchend",this,!1)},move:function(n){if(!(n.touches.length>1||n.scale&&1!==n.scale)){t.disableScroll&&n.preventDefault();var e=n.touches[0];z={x:e.pageX-M.x,y:e.pageY-M.y},"undefined"==typeof k&&(k=!!(k||Math.abs(z.x)<Math.abs(z.y))),k||(n.preventDefault(),l(),t.continuous?(u(s(T-1),z.x+x[s(T-1)],0),u(T,z.x+x[T],0),u(s(T+1),z.x+x[s(T+1)],0)):(z.x=z.x/(!T&&z.x>0||T==m.length-1&&z.x<0?Math.abs(z.x)/w+1:1),u(T-1,z.x+x[T-1],0),u(T,z.x+x[T],0),u(T+1,z.x+x[T+1],0)))}},end:function(n){var e=+new Date-M.time,i=Number(e)<250&&Math.abs(z.x)>20||Math.abs(z.x)>w/2,o=!T&&z.x>0||T==m.length-1&&z.x<0;t.continuous&&(o=!1);var a=z.x<0;k||(i&&!o?(a?(t.continuous?(r(s(T-1),-w,0),r(s(T+2),w,0)):r(T-1,-w,0),r(T,x[T]-w,y),r(s(T+1),x[s(T+1)]-w,y),T=s(T+1)):(t.continuous?(r(s(T+1),w,0),r(s(T-2),-w,0)):r(T+1,w,0),r(T,x[T]+w,y),r(s(T-1),x[s(T-1)]+w,y),T=s(T-1)),t.callback&&t.callback(T,m[T])):t.continuous?(r(s(T-1),-w,y),r(T,0,y),r(s(T+1),w,y)):(r(T-1,-w,y),r(T,0,y),r(T+1,w,y))),g.removeEventListener("touchmove",I,!1),g.removeEventListener("touchend",I,!1),t.auto&&(D=t.auto||0)},transitionEnd:function(n){parseInt(n.target.getAttribute("data-index"),10)==T&&(D&&d(),t.transitionEnd&&t.transitionEnd.call(n,T,m[T]))}};return e(),D&&d(),E.addEventListener?(E.touch&&g.addEventListener("touchstart",I,!1),E.transitions&&(g.addEventListener("webkitTransitionEnd",I,!1),g.addEventListener("msTransitionEnd",I,!1),g.addEventListener("oTransitionEnd",I,!1),g.addEventListener("otransitionend",I,!1),g.addEventListener("transitionend",I,!1)),window.addEventListener("resize",I,!1)):window.onresize=function(){e()},{setup:function(){e()},slide:function(n,t){l(),a(n,t)},prev:function(){l(),i()},next:function(){l(),o()},getPos:function(){return T},getNumSlides:function(){return b},kill:function(){l(),g.style.width="auto",g.style.left=0;for(var n=m.length;n--;){var t=m[n];t.style.width="100%",t.style.left=0,E.transitions&&u(n,0,0)}E.addEventListener?(g.removeEventListener("touchstart",I,!1),g.removeEventListener("webkitTransitionEnd",I,!1),g.removeEventListener("msTransitionEnd",I,!1),g.removeEventListener("oTransitionEnd",I,!1),g.removeEventListener("otransitionend",I,!1),g.removeEventListener("transitionend",I,!1),window.removeEventListener("resize",I,!1)):window.onresize=null}}}}return n});require(["base/MoGu"],function(o){function t(o){o=o||32;for(var t="abcdefhijkmnprstwxyz2345678",a=t.length,n="",d=0;o>d;d++)n+=t.charAt(Math.floor(Math.random()*a));return n}var a=100,n=Date.now||function(){return(new Date).getTime()},d={opts:{objsClassName:"J_mod_hidebox",showCallback:null,showDistance:800},randomIdName:"",randomIdNum:0,modInner:{},init:function(){var o=this,d=$("."+o.opts.objsClassName);d.addClass("J_mod_show"),o.randomIdName="J_Dynmod_"+t(8)+"_";var e=n();$(window).scroll(function(t){var d=n();d-e>a&&(e=d,o.checkMod())})},checkMod:function(o){for(var t=o?o:$("body"),a=this,n=document.documentElement.scrollTop||document.body.scrollTop,d=t.find("."+a.opts.objsClassName),e=n-a.opts.showDistance,s=n+(document.documentElement.clientHeight||document.body.clientHeight)+a.opts.showDistance,m=d.length,i=0;m>i;i++){var r=d.eq(i),h=r.offset().top,c=h+r.height(),l=c>=e&&s>=h,u=""==!r.html();u&&r.addClass("J_mod_show"),!l&&u&&a.resetMod(r,"hide"),l&&!u&&a.resetMod(r,"show")}a.opts.showCallback&&a.opts.showCallback()},resetMod:function(o,t){var a=this,n=a.modInner;o.attr("id")&&""!=o.attr("id")||(o.attr("id",a.randomIdName+a.randomIdNum),a.randomIdNum++),"hide"==t?(o.find(".J_loading").removeClass("J_loading"),o.find(".J_dynamic_img").attr("style",""),n[o.attr("id")]=o.html(),o.css({height:o.height()}),o.removeClass("J_mod_show"),o.html("")):(o.addClass("J_mod_show"),o.html(n[o.attr("id")]),o.css({height:"auto"}))},showCallback:function(){}};o.dynamicDom||(d.init(),o.dynamicDom=d),o.dynamicDom=o.dynamicDom||d});define("fastbuy/Timer",["base/MoGu"],function(t){function e(t,e,n,r){e=e||600,"undefined"==typeof r&&(r=document.documentElement.scrollTop||document.body.scrollTop);var o=r+$(window).height();r-=e,o+=e;var i=[];return t.each(function(){var t=$(this);if("none"!==t.css("display")&&"hidden"!==t.css("visibility")&&0!==t.css("opacity")){var e=t.offset(),s=e.top,a=s+(e.height||t.height());if(e.width||t.width()){if(r>a||s>o)return void(n&&n(t,!1));n&&n(t,!0),i.push(this)}}}),$(i)}function n(t){this._startTime=(new Date).getTime(),this._nodes=null,this.options=$.extend({},n.DEFAULTS,t)}function r(t,e){var n=t/1e3,r=Math.floor(n/86400);n-=86400*r;var o=Math.floor(n/3600);n-=3600*o;var s=Math.floor(n/60);n-=60*s,n=Math.floor(n);var a="";return e.noday?(o+=24*r,a=i(e.format,[o,s,n])):a=i(e.format,[r,o,s,n]),a}var o=function(){function t(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function e(t,e){for(var n=[];e>0;n[--e]=t);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,r){var i,s,a,u,h,c,f,l=1,p=n.length,d="",m=[];for(s=0;p>s;s++)if(d=t(n[s]),"string"===d)m.push(n[s]);else if("array"===d){if(u=n[s],u[2])for(i=r[l],a=0;a<u[2].length;a++){if(!i.hasOwnProperty(u[2][a]))throw o('[sprintf] property "%s" does not exist',u[2][a]);i=i[u[2][a]]}else i=u[1]?r[u[1]]:r[l++];if(/[^s]/.test(u[8])&&"number"!=t(i))throw o("[sprintf] expecting number but found %s",t(i));switch(u[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=u[7]?i.toExponential(u[7]):i.toExponential();break;case"f":i=u[7]?parseFloat(i).toFixed(u[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&u[7]?i.substring(0,u[7]):i;break;case"u":i=Math.abs(i);break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(u[8])&&u[3]&&i>=0?"+"+i:i,c=u[4]?"0"==u[4]?"0":u[4].charAt(1):" ",f=u[6]-String(i).length,h=u[6]?e(c,f):"",m.push(u[5]?i+h:h+i)}return m.join("")},n.cache={},n.parse=function(t){for(var e=t,n=[],r=[],o=0;e;){if(null!==(n=/^[^\x25]+/.exec(e)))r.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(e)))r.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)))throw"[sprintf] huh?";if(n[2]){o|=1;var i=[],s=n[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(s)))throw"[sprintf] huh?";for(i.push(a[1]);""!==(s=s.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(s)))i.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(s)))throw"[sprintf] huh?";i.push(a[1])}n[2]=i}else o|=2;if(3===o)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(n)}e=e.substring(n[0].length)}return r},n}(),i=function(t,e){return e.unshift(t),o.apply(null,e)},s=Math.random().toString().replace(".","");return Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r?this:t,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),o.prototype=new r,o}),n.prototype={constructor:n,init:function(){this._nodes=$(this.options.selector),clearTimeout(this._timeout),this._refresh(),this._timeout=setInterval(this._refresh.bind(this),this.options.interval)},update:function(){this._nodes=$(this.options.selector)},_refresh:function(){var t=(new Date).getTime(),n=this._nodes;this.options.viewonly&&(n=e(n,this.options.offset,null,document.documentElement.scrollTop||document.body.scrollTop));var o=this;n.each(function(){var e=$(this),n=o.options,i=e.data(n.datattr);if("undefined"!=typeof i&&!e.data(s))return i-=t-o._startTime,300>=i?(i=0,e.html(r(i,n)),n.finish&&n.finish(e),void e.data(s,!0)):void e.html(r(i,n))})}},n.DEFAULTS={viewonly:!1,interval:500,offset:300,noday:!1,selector:".timer",datattr:"time-left",format:"%02d天%02d时%02d分%02d秒"},n.VERSION="0.0.2",t.Timer=t.Timer||n,n});require(["base/MoGu"],function(e){function t(e){return"tagName"in e?e:e.parentNode}function o(){l=null,_.last&&(_={})}function i(){l&&clearTimeout(l),l=null}var n,l,_={},a=750;$(document).ready(function(){var e,r;$(document.body).bind("touchstart",function(i){e=Date.now(),r=e-(_.last||e),_.el=$(t(i.touches[0].target)),n&&clearTimeout(n),_.x1=i.touches[0].pageX,_.y1=i.touches[0].pageY,r>0&&250>=r&&(_.isDoubleTap=!0),_.last=e,l=setTimeout(o,a)}).bind("touchmove",function(e){i(),_.x2=e.touches[0].pageX,_.y2=e.touches[0].pageY}).bind("touchend",function(e){i(),_.isDoubleTap?_={}:_.x2&&Math.abs(_.x1-_.x2)>30||_.y2&&Math.abs(_.y1-_.y2)>30?_={}:"last"in _&&(_.el.trigger("tapfastbuy"),n=setTimeout(function(){n=null,_={}},250))}).bind("touchcancel",function(){n&&clearTimeout(n),l&&clearTimeout(l),l=n=null,_={}})}),["tapfastbuy"].forEach(function(e){$.fn[e]=function(t){return this.bind(e,t)}})});var Scroller,core;require(["base/MoGu"],function(e){function t(e){var t=null,o=new Scroller(n(e.navlist),{snapping:!0,scrollingY:!1,decelerationRate:.82,animationDuration:e.duration,scrollingPenetrationAcceleration:.5,scrollingComplete:function(){var i=Math.round(o.__scrollLeft/o.__snapWidth);clearTimeout(t),t=setTimeout(function(){e.callback(i)},e.duration)}}),l=e.container,_=e.navlist,a=l.getBoundingClientRect();return o.setDimensions(l.clientWidth,l.clientHeight,_.offsetWidth,_.offsetHeight),o.setPosition(a.left+l.clientLeft,a.top+l.clientTop),o.setSnapSize(e.itemwidth,_.offsetHeight),o.scrollTo(e.initIndex*e.itemwidth,0,!0),e.callback(e.initIndex),i(o,e),o}function o(e,t){return Math.abs(e.pageX-t.pageX)>2?!0:Math.abs(e.pageY-t.pageY)>2?!0:!1}function i(e,t){var i=t.container;if("ontouchstart"in window){var n=null;i.addEventListener("touchstart",function(t){t.target.tagName.match(/input|textarea|select/i)||(n=t.touches[0],e.doTouchStart(t.touches,t.timeStamp),t.preventDefault())},!1),document.addEventListener("touchmove",function(t){!e.touching&&n&&o(n,t.touches[0])&&(e.touching=!0),e.doTouchMove(t.touches,t.timeStamp)},!1),document.addEventListener("touchend",function(t){e.doTouchEnd(t.timeStamp),e.touching=!1},!1)}else{var l=!1;i.addEventListener("mousedown",function(t){t.target.tagName.match(/input|textarea|select/i)||(e.doTouchStart([{pageX:t.pageX,pageY:t.pageY}],t.timeStamp),l=!0)},!1),document.addEventListener("mousemove",function(t){l&&(e.doTouchMove([{pageX:t.pageX,pageY:t.pageY}],t.timeStamp),l=!0)},!1),document.addEventListener("mouseup",function(t){l&&(e.doTouchEnd(t.timeStamp),l=!1)},!1)}}!function(){var e=function(){};Scroller=function(t,o){this.__callback=t,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:e,decelerationRate:.95,penetrationDeceleration:.03,penetrationAcceleration:.08};for(var i in o)this.options[i]=o[i]};var t=function(e){return Math.pow(e-1,3)+1},o=function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},i={__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(e,t,o,i){var n=this;e===+e&&(n.__clientWidth=e),t===+t&&(n.__clientHeight=t),o===+o&&(n.__contentWidth=o),i===+i&&(n.__contentHeight=i),n.__computeScrollMax(),n.scrollTo(n.__scrollLeft,n.__scrollTop,!0)},setPosition:function(e,t){var o=this;o.__clientLeft=e||0,o.__clientTop=t||0},setSnapSize:function(e,t){var o=this;o.__snapWidth=e,o.__snapHeight=t},activatePullToRefresh:function(e,t,o,i){var n=this;n.__refreshHeight=e,n.__refreshActivate=t,n.__refreshDeactivate=o,n.__refreshStart=i},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){var e=this;e.__refreshActive=!1,e.__refreshDeactivate&&e.__refreshDeactivate(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0)},getValues:function(){var e=this;return{left:e.__scrollLeft,top:e.__scrollTop,zoom:e.__zoomLevel}},getScrollMax:function(){var e=this;return{left:e.__maxScrollLeft,top:e.__maxScrollTop}},zoomTo:function(e,t,o,i,n){var l=this;if(!l.options.zooming)throw new Error("Zooming is not enabled!");n&&(l.__zoomComplete=n),l.__isDecelerating&&(core.effect.Animate.stop(l.__isDecelerating),l.__isDecelerating=!1);var _=l.__zoomLevel;null==o&&(o=l.__clientWidth/2),null==i&&(i=l.__clientHeight/2),e=Math.max(Math.min(e,l.options.maxZoom),l.options.minZoom),l.__computeScrollMax(e);var a=(o+l.__scrollLeft)*e/_-o,r=(i+l.__scrollTop)*e/_-i;a>l.__maxScrollLeft?a=l.__maxScrollLeft:0>a&&(a=0),r>l.__maxScrollTop?r=l.__maxScrollTop:0>r&&(r=0),l.__publish(a,r,e,t)},zoomBy:function(e,t,o,i,n){var l=this;l.zoomTo(l.__zoomLevel*e,t,o,i,n)},scrollTo:function(e,t,o,i){var n=this;if(n.__isDecelerating&&(core.effect.Animate.stop(n.__isDecelerating),n.__isDecelerating=!1),null!=i&&i!==n.__zoomLevel){if(!n.options.zooming)throw new Error("Zooming is not enabled!");e*=i,t*=i,n.__computeScrollMax(i)}else i=n.__zoomLevel;n.options.scrollingX?n.options.paging?e=Math.round(e/n.__clientWidth)*n.__clientWidth:n.options.snapping&&(e=Math.round(e/n.__snapWidth)*n.__snapWidth):e=n.__scrollLeft,n.options.scrollingY?n.options.paging?t=Math.round(t/n.__clientHeight)*n.__clientHeight:n.options.snapping&&(t=Math.round(t/n.__snapHeight)*n.__snapHeight):t=n.__scrollTop,e=Math.max(Math.min(n.__maxScrollLeft,e),0),t=Math.max(Math.min(n.__maxScrollTop,t),0),e===n.__scrollLeft&&t===n.__scrollTop&&(o=!1),n.__publish(e,t,i,o)},scrollBy:function(e,t,o){var i=this,n=i.__isAnimating?i.__scheduledLeft:i.__scrollLeft,l=i.__isAnimating?i.__scheduledTop:i.__scrollTop;i.scrollTo(n+(e||0),l+(t||0),o)},doMouseZoom:function(e,t,o,i){var n=this,l=e>0?.97:1.03;return n.zoomTo(n.__zoomLevel*l,!1,o-n.__clientLeft,i-n.__clientTop)},doTouchStart:function(e,t){if(null==e.length)throw new Error("Invalid touch list: "+e);if(t instanceof Date&&(t=t.valueOf()),"number"!=typeof t)throw new Error("Invalid timestamp value: "+t);var o=this;o.__interruptedAnimation=!0,o.__isDecelerating&&(core.effect.Animate.stop(o.__isDecelerating),o.__isDecelerating=!1,o.__interruptedAnimation=!0),o.__isAnimating&&(core.effect.Animate.stop(o.__isAnimating),o.__isAnimating=!1,o.__interruptedAnimation=!0);var i,n,l=1===e.length;l?(i=e[0].pageX,n=e[0].pageY):(i=Math.abs(e[0].pageX+e[1].pageX)/2,n=Math.abs(e[0].pageY+e[1].pageY)/2),o.__initialTouchLeft=i,o.__initialTouchTop=n,o.__zoomLevelStart=o.__zoomLevel,o.__lastTouchLeft=i,o.__lastTouchTop=n,o.__lastTouchMove=t,o.__lastScale=1,o.__enableScrollX=!l&&o.options.scrollingX,o.__enableScrollY=!l&&o.options.scrollingY,o.__isTracking=!0,o.__didDecelerationComplete=!1,o.__isDragging=!l,o.__isSingleTouch=l,o.__positions=[]},doTouchMove:function(e,t,o){if(null==e.length)throw new Error("Invalid touch list: "+e);if(t instanceof Date&&(t=t.valueOf()),"number"!=typeof t)throw new Error("Invalid timestamp value: "+t);var i=this;if(i.__isTracking){var n,l;2===e.length?(n=Math.abs(e[0].pageX+e[1].pageX)/2,l=Math.abs(e[0].pageY+e[1].pageY)/2):(n=e[0].pageX,l=e[0].pageY);var _=i.__positions;if(i.__isDragging){var a=n-i.__lastTouchLeft,r=l-i.__lastTouchTop,c=i.__scrollLeft,s=i.__scrollTop,u=i.__zoomLevel;if(null!=o&&i.options.zooming){var p=u;if(u=u/i.__lastScale*o,u=Math.max(Math.min(u,i.options.maxZoom),i.options.minZoom),p!==u){var h=n-i.__clientLeft,f=l-i.__clientTop;c=(h+c)*u/p-h,s=(f+s)*u/p-f,i.__computeScrollMax(u)}}if(i.__enableScrollX){c-=a*this.options.speedMultiplier;var m=i.__maxScrollLeft;(c>m||0>c)&&(i.options.bouncing?c+=a/2*this.options.speedMultiplier:c=c>m?m:0)}if(i.__enableScrollY){s-=r*this.options.speedMultiplier;var g=i.__maxScrollTop;(s>g||0>s)&&(i.options.bouncing?(s+=r/2*this.options.speedMultiplier,i.__enableScrollX||null==i.__refreshHeight||(!i.__refreshActive&&s<=-i.__refreshHeight?(i.__refreshActive=!0,i.__refreshActivate&&i.__refreshActivate()):i.__refreshActive&&s>-i.__refreshHeight&&(i.__refreshActive=!1,i.__refreshDeactivate&&i.__refreshDeactivate()))):s=s>g?g:0)}_.length>60&&_.splice(0,30),_.push(c,s,t),i.__publish(c,s,u)}else{var d=i.options.locking?3:0,v=5,T=Math.abs(n-i.__initialTouchLeft),S=Math.abs(l-i.__initialTouchTop);i.__enableScrollX=i.options.scrollingX&&T>=d,i.__enableScrollY=i.options.scrollingY&&S>=d,_.push(i.__scrollLeft,i.__scrollTop,t),i.__isDragging=(i.__enableScrollX||i.__enableScrollY)&&(T>=v||S>=v),i.__isDragging&&(i.__interruptedAnimation=!1)}i.__lastTouchLeft=n,i.__lastTouchTop=l,i.__lastTouchMove=t,i.__lastScale=o}},doTouchEnd:function(e){if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);var t=this;if(t.__isTracking){if(t.__isTracking=!1,t.__isDragging)if(t.__isDragging=!1,t.__isSingleTouch&&t.options.animating&&e-t.__lastTouchMove<=100){for(var o=t.__positions,i=o.length-1,n=i,l=i;l>0&&o[l]>t.__lastTouchMove-100;l-=3)n=l;if(n===i&&o.length>5&&(n=2),n!==i){var _=o[i]-o[n],a=t.__scrollLeft-o[n-2],r=t.__scrollTop-o[n-1];t.__decelerationVelocityX=a/_*(1e3/60),t.__decelerationVelocityY=r/_*(1e3/60);var c=t.options.paging||t.options.snapping?4:1;(Math.abs(t.__decelerationVelocityX)>c||Math.abs(t.__decelerationVelocityY)>c)&&(t.__refreshActive||t.__startDeceleration(e))}else t.options.scrollingComplete()}else e-t.__lastTouchMove>100&&t.options.scrollingComplete();t.__isDecelerating||(t.__refreshActive&&t.__refreshStart?(t.__publish(t.__scrollLeft,-t.__refreshHeight,t.__zoomLevel,!0),t.__refreshStart&&t.__refreshStart()):((t.__interruptedAnimation||t.__isDragging)&&t.options.scrollingComplete(),t.scrollTo(t.__scrollLeft,t.__scrollTop,!0,t.__zoomLevel),t.__refreshActive&&(t.__refreshActive=!1,t.__refreshDeactivate&&t.__refreshDeactivate()))),t.__positions.length=0}},__publish:function(e,i,n,l){var _=this,a=_.__isAnimating;if(a&&(core.effect.Animate.stop(a),_.__isAnimating=!1),l&&_.options.animating){_.__scheduledLeft=e,_.__scheduledTop=i,_.__scheduledZoom=n;var r=_.__scrollLeft,c=_.__scrollTop,s=_.__zoomLevel,u=e-r,p=i-c,h=n-s,f=function(e,t,o){o&&(_.__scrollLeft=r+u*e,_.__scrollTop=c+p*e,_.__zoomLevel=s+h*e,_.__callback&&_.__callback(_.__scrollLeft,_.__scrollTop,_.__zoomLevel))},m=function(e){return _.__isAnimating===e},g=function(e,t,o){t===_.__isAnimating&&(_.__isAnimating=!1),(_.__didDecelerationComplete||o)&&_.options.scrollingComplete(),_.options.zooming&&(_.__computeScrollMax(),_.__zoomComplete&&(_.__zoomComplete(),_.__zoomComplete=null))};_.__isAnimating=core.effect.Animate.start(f,m,g,_.options.animationDuration,a?t:o)}else _.__scheduledLeft=_.__scrollLeft=e,_.__scheduledTop=_.__scrollTop=i,_.__scheduledZoom=_.__zoomLevel=n,_.__callback&&_.__callback(e,i,n),_.options.zooming&&(_.__computeScrollMax(),_.__zoomComplete&&(_.__zoomComplete(),_.__zoomComplete=null))},__computeScrollMax:function(e){var t=this;null==e&&(e=t.__zoomLevel),t.__maxScrollLeft=Math.max(t.__contentWidth*e-t.__clientWidth,0),t.__maxScrollTop=Math.max(t.__contentHeight*e-t.__clientHeight,0)},__startDeceleration:function(e){var t=this;if(t.options.paging){var o=Math.max(Math.min(t.__scrollLeft,t.__maxScrollLeft),0),i=Math.max(Math.min(t.__scrollTop,t.__maxScrollTop),0),n=t.__clientWidth,l=t.__clientHeight;t.__minDecelerationScrollLeft=Math.floor(o/n)*n,t.__minDecelerationScrollTop=Math.floor(i/l)*l,t.__maxDecelerationScrollLeft=Math.ceil(o/n)*n,t.__maxDecelerationScrollTop=Math.ceil(i/l)*l}else t.__minDecelerationScrollLeft=0,t.__minDecelerationScrollTop=0,t.__maxDecelerationScrollLeft=t.__maxScrollLeft,t.__maxDecelerationScrollTop=t.__maxScrollTop;var _=function(e,o,i){t.__stepThroughDeceleration(i)},a=t.options.snapping?4:.1,r=function(){var e=Math.abs(t.__decelerationVelocityX)>=a||Math.abs(t.__decelerationVelocityY)>=a;return e||(t.__didDecelerationComplete=!0),e},c=function(e,o,i){t.__isDecelerating=!1,t.__didDecelerationComplete&&t.options.scrollingComplete(),t.scrollTo(t.__scrollLeft,t.__scrollTop,t.options.snapping)};t.__isDecelerating=core.effect.Animate.start(_,r,c)},__stepThroughDeceleration:function(e){var t=this,o=t.__scrollLeft+t.__decelerationVelocityX,i=t.__scrollTop+t.__decelerationVelocityY;if(!t.options.bouncing){var n=Math.max(Math.min(t.__maxDecelerationScrollLeft,o),t.__minDecelerationScrollLeft);n!==o&&(o=n,t.__decelerationVelocityX=0);var l=Math.max(Math.min(t.__maxDecelerationScrollTop,i),t.__minDecelerationScrollTop);l!==i&&(i=l,t.__decelerationVelocityY=0)}if(e?t.__publish(o,i,t.__zoomLevel):(t.__scrollLeft=o,t.__scrollTop=i),!t.options.paging){var _=t.options.decelerationRate;t.__decelerationVelocityX*=_,t.__decelerationVelocityY*=_}if(t.options.bouncing){var a=0,r=0,c=t.options.penetrationDeceleration,s=t.options.penetrationAcceleration;o<t.__minDecelerationScrollLeft?a=t.__minDecelerationScrollLeft-o:o>t.__maxDecelerationScrollLeft&&(a=t.__maxDecelerationScrollLeft-o),i<t.__minDecelerationScrollTop?r=t.__minDecelerationScrollTop-i:i>t.__maxDecelerationScrollTop&&(r=t.__maxDecelerationScrollTop-i),0!==a&&(a*t.__decelerationVelocityX<=0?t.__decelerationVelocityX+=a*c:t.__decelerationVelocityX=a*s),0!==r&&(r*t.__decelerationVelocityY<=0?t.__decelerationVelocityY+=r*c:t.__decelerationVelocityY=r*s)}}};for(var n in i)Scroller.prototype[n]=i[n]}(),function(e){var t=Date.now||function(){return+new Date},o=60,i=1e3,n={},l=1;core={effect:{}},core.effect.Animate={requestAnimationFrame:function(){var t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame,o=!!t;if(t&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(t.toString())&&(o=!1),o)return function(e,o){t(e,o)};var i=60,n={},l=0,_=1,a=null,r=+new Date;return function(e,t){var o=_++;return n[o]=e,l++,null===a&&(a=setInterval(function(){var e=+new Date,t=n;n={},l=0;for(var o in t)t.hasOwnProperty(o)&&(t[o](e),r=e);e-r>2500&&(clearInterval(a),a=null)},1e3/i)),o}}(),stop:function(e){var t=null!=n[e];return t&&(n[e]=null),t},isRunning:function(e){return null!=n[e]},start:function(e,_,a,r,c,s){var u=t(),p=u,h=0,f=0,m=l++;if(s||(s=document.body),m%20===0){var g={};for(var d in n)g[d]=!0;n=g}var v=function(l){var g=l!==!0,d=t();if(!n[m]||_&&!_(m))return n[m]=null,void(a&&a(o-f/((d-u)/i),m,!1));if(g)for(var T=Math.round((d-p)/(i/o))-1,S=0;S<Math.min(T,4);S++)v(!0),f++;r&&(h=(d-u)/r,h>1&&(h=1));var L=c?c(h):h;e(L,d,g)!==!1&&1!==h||!g?g&&(p=d,core.effect.Animate.requestAnimationFrame(v,s)):(n[m]=null,a&&a(o-f/((d-u)/i),m,1===h||null==r))};return n[m]=!0,core.effect.Animate.requestAnimationFrame(v,s),m}}}("undefined"!=typeof window?window:this);var n=function(e){var t,o=document.documentElement.style;window.opera&&"[object Opera]"===Object.prototype.toString.call(opera)?t="presto":"MozAppearance"in o?t="gecko":"WebkitAppearance"in o?t="webkit":"string"==typeof navigator.cpuClass&&(t="trident");var i,n={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[t],l=document.createElement("div"),_=n+"Perspective",a=n+"Transform";return l.style[_]!==i?function(t,o,i){e.style[a]="translate3d("+-t+"px,"+-o+"px,0) scale("+i+")"}:l.style[a]!==i?function(t,o,i){e.style[a]="translate("+-t+"px,"+-o+"px) scale("+i+")"}:function(t,o,i){e.style.marginLeft=t?-t/i+"px":"",e.style.marginTop=o?-o/i+"px":"",e.style.zoom=i||""}};e.enableScroll=e.enableScroll||t});define("fastbuy/Reminder",["base/MoGu"],function(e){var t=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g,n=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e};return function(r,s,d){var o=t;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(r)||/\d/.test(r)||(s=r,r=void 0),r=r?new Date(r):new Date,isNaN(r))throw SyntaxError("invalid date");s=String(o.masks[s]||s||o.masks["default"]),"UTC:"==s.slice(0,4)&&(s=s.slice(4),d=!0);var l=d?"getUTC":"get",m=r[l+"Date"](),c=r[l+"Day"](),u=r[l+"Month"](),y=r[l+"FullYear"](),g=r[l+"Hours"](),h=r[l+"Minutes"](),p=r[l+"Seconds"](),f=r[l+"Milliseconds"](),v=d?0:r.getTimezoneOffset(),T={d:m,dd:n(m),ddd:o.i18n.dayNames[c],dddd:o.i18n.dayNames[c+7],m:u+1,mm:n(u+1),mmm:o.i18n.monthNames[u],mmmm:o.i18n.monthNames[u+12],yy:String(y).slice(2),yyyy:y,h:g%12||12,hh:n(g%12||12),H:g,HH:n(g),M:h,MM:n(h),s:p,ss:n(p),l:n(f,3),L:n(f>99?Math.round(f/10):f),t:12>g?"a":"p",tt:12>g?"am":"pm",T:12>g?"A":"P",TT:12>g?"AM":"PM",Z:d?"UTC":(String(r).match(a)||[""]).pop().replace(i,""),o:(v>0?"-":"+")+n(100*Math.floor(Math.abs(v)/60)+Math.abs(v)%60,4),S:["th","st","nd","rd"][m%10>3?0:(m%100-m%10!=10)*m%10]};return s.replace(e,function(e){return e in T?T[e]:e.slice(1,e.length-1)})}}();t.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},t.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=Date.prototype.format||function(e,a){return t(this,e,a)};var a=function(e){this.opts=$.extend({},this.defaults,e),this.db=new this.database,this.tips=new this.tips,this.init()};return a.prototype={vendor:{support:!1,cancelable:!1,devFlag:!1},init:function(){var e=this;document.addEventListener("deviceready",function(){if(window.mgj){var t=mgj.calendarAction&&"function"==typeof mgj.calendarAction.add,a=mgj.calendar&&"function"==typeof mgj.calendar.deleteEvent&&"function"==typeof mgj.calendar.createEventWithOptions;(t||a)&&(a||!$.os.android)&&($("body").addClass("reminder_box").addClass("J_reminder_box"),e.vendor.support=!0,a&&(e.vendor.cancelable=!0),e.vendor.devFlag=!0,e.checkReminder(),e.opts.container.on("click","."+e.opts.objsClassName,function(t){if(!e.vendor.support)return!0;var a=$(this),i=new Date(1e3*parseInt(a.data("start-time"),10)),n=new Date(i.getTime()+36e5),r={title:e.opts.localTitle+"："+a.data("title"),subTitle:"【"+e.opts.sideName+"】："+e.opts.localTitle,description:"【"+e.opts.localTitle+"】："+a.data("title")+"  "+a.data("link"),location:"Home",alertTime:300,needReminder:1,startTime:i.format("yyyy-mm-dd HH:MM:ss"),endTime:n.format("yyyy-mm-dd HH:MM:ss")},s=(a.data("alert-id")||a.data("id")).toString();if(e.vendor.cancelable)if(a.hasClass("J_reminder_alerted"))mgj.calendar.deleteEvent(r.title,r.location,r.description,i,n,function(){a.removeClass("J_reminder_alerted"),e.db.removeItem(s),e.tips.show("取消提醒成功");var t=a.data("log-type")||"0";e.triggerLog({itemid:s,type:t,status:"off"}),e.cancelReminderCallback(a,!0)},function(){e.tips.show("取消提醒不成功，请开启日历权限"),e.cancelReminderCallback(a,!1)});else{var d=mgj.calendar.getCalendarOptions();d.firstReminderMinutes=5,mgj.calendar.createEventWithOptions(r.title,r.location,r.description,i,n,d,function(){a.addClass("J_reminder_alerted"),e.db.addItem(s,i.getTime()),e.tips.show(e.opts.successText);var t=a.data("log-type")||"0";e.triggerLog({itemid:s,type:t,status:"on"}),e.setReminderCallback(a,!0)},function(){e.tips.show("设置提醒不成功，请开启日历权限"),e.setReminderCallback(a,!1)})}else{if(a.hasClass("J_reminder_alerted")||a.hasClass("J_reminder_alertdy"))return;mgj.calendarAction.add(function(){a.addClass("J_reminder_alertdy"),e.db.addItem(s,i.getTime()),e.tips.show(e.opts.successText);var t=a.data("log-type")||"0";e.triggerLog({itemid:s,type:t,status:"on"}),e.setReminderCallback(a,!0)},function(){e.tips.show("设置提醒不成功，请开启日历权限"),e.setReminderCallback(a,!1)},r)}return t.preventDefault(),t.stopPropagation(),!1}))}})},checkReminder:function(e){var t=this,a=e?e:t.opts.container;if(t.vendor.devFlag){var i=($(".J_reminder_alert").attr("need-cancel"),a.find("."+t.opts.objsClassName));i.each(function(){var e=$(this),a=e.attr("need-cancel");e.hasClass("J_reminder_alert")&&t.db.getItem(e.data("alert-id")||e.data("id"))&&(t.vendor.cancelable?"no"==a?e.addClass("J_reminder_alertdy"):e.addClass("J_reminder_alerted"):e.addClass("J_reminder_alertdy"))})}},database:function(){var e=/^mogu-id-/,t=2592e5,a=this.keyPrefix="mogu-id-";this.cleanup=function(){for(var a=Object.keys(localStorage),i=+new Date,n=0,r=a.length;r>n;n++){var s=a[n];if(e.test(s)){var d=localStorage.getItem(s);d=parseInt(d,10),i>d&&i-d>t&&localStorage.removeItem(s)}}return this},this.addItem=function(e,t){return t=+t,isNaN(t)||localStorage.setItem(a+e,+t),this},this.removeItem=function(e){return localStorage.removeItem(a+e),this},this.getItem=function(e){var t=localStorage.getItem(a+e);return t}},tips:function(){var e=$("#MGJ_Tips");e.length<=0&&(e=$('<div id="MGJ_Tips" class="ui-tips" style="display: none;"><h4 class="ui-tips-text"></h4></div>'),$("body").append(e)),this.show=function(t){var a=e,i=a.find(".ui-tips-text");this.stop(),i.text(t),a.show(),e.addClass("bounceInUp"),this.hide()},this.hide=function(){var t=e;this.timeout=setTimeout(function(){t.hide()},2e3)},this.stop=function(){var t=e;t.hide(),clearTimeout(this.timeout),e.removeClass("bounceInUp")}},triggerLog:function(e){var t="016000116";return window.logger&&logger.log?(logger.log(t,e),!0):!1},setReminderCallback:function(e,t){},cancelReminderCallback:function(e,t){},defaults:{objsClassName:"J_reminder_alert",container:$(".page_activity").length>0?$(".page_activity"):$("body"),successText:"设置成功，提前 5 分钟提醒菇凉哦",localTitle:"快抢提醒",sideName:"蘑菇街"}},window.MoGu.Reminder=window.MoGu.Reminder||a,a}),require(["fastbuy/Reminder"],function(){});