"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){window.$&&window.require&&(window.modJsRequire=function(e,n,t,o){"function"==typeof n&&(t=arguments[1],o=arguments[2],n=null),require(e,function(){var e=Array.from?Array.from(arguments):Array.prototype.slice.call(arguments),o=this;n&&$(n).length?$(n).each(function(n,i){t&&t.apply(o,e.concat([i,n]))}):t&&t.apply(this,e)},o)})}(),define("core/core",[],function(){return window.MoGu={Config:{debug:"@DEBUG@"},version:"undefined@",appEnv:"Env",data:{},widget:{},_global:{}},MoGu}),define("core/evoke",["core/core"],function(e){function n(e){this.options={opentype:"index",param:null,downUrl:"http://a.app.qq.com/o/simple.jsp?pkgname=com.mogujie&g_f=991699"},this.ua=null,this.src=null,this.merge(e),this.getUA(),this.getSrc(),this.evoke()}return n.prototype={merge:function(e){if("object"!=("undefined"==typeof e?"undefined":_typeof(e)))return!1;var n=this.options;for(var t in n)("object"===_typeof(e[t])||e[t])&&(n[t]=e[t])},getUA:function(){var e=navigator.userAgent.toLowerCase(),n=this;n.ua={mobile:!!e.match(/applewebKit.*mobile.*/),ios:!!e.match(/\(i[^;]+;( u;)? cpu.+mac os x/),chrome:e.indexOf("chrome")>-1,isVessel:e.indexOf("mogujie")>-1,isNative:e.indexOf("mogujie")>-1&&-1==e.indexOf("nonative")}},evoke:function(){var e=this;e.ua.isNative?window.location.href="mgj://"+e.src:e.ua.ios?e.iosEvoke():e.ua.chrome?e.androidChrome():e.androidNotChrome()},iosEvoke:function(){var e=this,n=new Date;return window.setTimeout(function(){var t=new Date;5e3>t-n&&"object"!=_typeof(e.options.downUrl)?window.location=e.options.downUrl:window.close()},25),"object"===_typeof(e.options.downUrl)?!1:void(window.location="mogujie://open?url="+encodeURIComponent("mgj://"+e.src))},androidNotChrome:function(){var e=this,n="mogujie://index?url="+encodeURIComponent("mgj://"+e.src),t=document.createElement("iframe");return t.src=n,t.style.display="none",document.body.appendChild(t),"object"===_typeof(e.options.downUrl)?!1:void(window.location=e.options.downUrl)},androidChrome:function(){var e=this,n="intent://index?url="+e.src+"#Intent;scheme=mogujie;package=com.mogujie;end",t=document.createElement("a");return t.href=n,t.style.display="none",document.body.appendChild(t),setTimeout(function(){t.click()},1e3),"object"===_typeof(e.options.downUrl)?!1:void(window.href=e.options.downUrl)},getSrc:function(){var e=this,n=e.options.param,t="";if(n&&"object"===("undefined"==typeof n?"undefined":_typeof(n)))for(var o in n)t=t?t+"&":"?"+t,t=t+o+"="+n[o];e.src=e.options.opentype+t}},e.Evoke=n,e}),define("core/const",["core/core"],function(e){return e.Const={},e}),define("core/polyfill",["core/core"],function(e){return function(){for(var e=0,n=["ms","moz","webkit","o"],t=0;t<n.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[n[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[t]+"CancelAnimationFrame"]||window[n[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n,t){var o=+new Date,i=Math.max(0,16-(o-e)),r=window.setTimeout(function(){n(o+i)},i);return e=o+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),e}),define("core/ua",["core/core"],function(e){return $.extend(e,{ua:function(){var n=navigator.userAgent.toLowerCase(),t={};return t["native"]=n.indexOf("meilishuo")>-1,t.wechat=n.indexOf("micromessenger")>-1,t["native"]&&window.mgj&&mgj.device&&mgj.device.getInfo(function(n){e&&e.ua&&$.extend(e.ua,{appInfo:n})}),$.os?t=$.extend(!0,t,$.os):t.phone=!1,t}()}),e}),define("core/error",["core/core","core/ua"],function(e){return $.extend(e,{error:function(n){if(console&&console.log(n),e.ua["native"]&&window.MOGU_DEV){var t=$("#notice_error");t.length||(t=$('<div id="notice_error"></div>').prependTo($("body"))),t.prepend("<p>"+n+"</p>")}}}),e}),define("fnExtend",["core/core"],function(e){var n=function(e){var n="undefined"==typeof e?"undefined":_typeof(e);return"function"===n||"object"===n&&!!e},t=function(e,n){return void 0===n?e:function(){return e.apply(n,arguments)}},o=function(e,n,o){return null==e?e||null:$.isFunction(e)?t(e,n,o):function(n){return n[e]}};return{parseJson:JSON.parse,escapeHtml:function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},formatPrice:function(e){return null==e?"-":(e/100).toFixed(2)},formatDate:function(e,n){var t,o,i=this,r=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],a=/\\?(.?)/gi,u=function(e,n){return o[e]?o[e]():n},c=function(e,n){for(e=String(e);e.length<n;)e="0"+e;return e};return o={d:function(){return c(o.j(),2)},D:function(){return o.l().slice(0,3)},j:function(){return t.getDate()},l:function(){return r[o.w()]+"day"},N:function(){return o.w()||7},S:function(){var e=o.j(),n=e%10;return 3>=n&&1==parseInt(e%100/10,10)&&(n=0),["st","nd","rd"][n-1]||"th"},w:function(){return t.getDay()},z:function(){var e=new Date(o.Y(),o.n()-1,o.j()),n=new Date(o.Y(),0,1);return Math.round((e-n)/864e5)},W:function(){var e=new Date(o.Y(),o.n()-1,o.j()-o.N()+3),n=new Date(e.getFullYear(),0,4);return c(1+Math.round((e-n)/864e5/7),2)},F:function(){return r[6+o.n()]},m:function(){return c(o.n(),2)},M:function(){return o.F().slice(0,3)},n:function(){return t.getMonth()+1},t:function(){return new Date(o.Y(),o.n(),0).getDate()},L:function(){var e=o.Y();return e%4===0&e%100!==0|e%400===0},o:function(){var e=o.n(),n=o.W(),t=o.Y();return t+(12===e&&9>n?1:1===e&&n>9?-1:0)},Y:function(){return t.getFullYear()},y:function(){return o.Y().toString().slice(-2)},a:function(){return t.getHours()>11?"pm":"am"},A:function(){return o.a().toUpperCase()},B:function(){var e=3600*t.getUTCHours(),n=60*t.getUTCMinutes(),o=t.getUTCSeconds();return c(Math.floor((e+n+o+3600)/86.4)%1e3,3)},g:function(){return o.G()%12||12},G:function(){return t.getHours()},h:function(){return c(o.g(),2)},H:function(){return c(o.G(),2)},i:function(){return c(t.getMinutes(),2)},s:function(){return c(t.getSeconds(),2)},u:function(){return c(1e3*t.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){var e=new Date(o.Y(),0),n=Date.UTC(o.Y(),0),t=new Date(o.Y(),6),i=Date.UTC(o.Y(),6);return e-n!==t-i?1:0},O:function(){var e=t.getTimezoneOffset(),n=Math.abs(e);return(e>0?"-":"+")+c(100*Math.floor(n/60)+n%60,4)},P:function(){var e=o.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-t.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(a,u)},r:function(){return"D, d M Y H:i:s O".replace(a,u)},U:function(){return t/1e3|0}},this.date=function(e,n){return i=this,t=void 0===n?new Date:n instanceof Date?new Date(n):new Date(1e3*n),e.replace(a,u)},this.date(e,n)},has:function(e,n){return null!=e&&e.hasOwnProperty(n)},keys:function i(e){var t=Object.keys;if(!n(e))return[];if(t)return t(e);var i=[];for(var o in e)e.hasOwnProperty(o)&&i.push(o);return i},values:function(e){var n=this.keys(e);return n.map(function(n){return e[n]})},map:function(e,n,t){if(null==e)return[];n=o(n,t);var i,r,a=e.length;a!==+a&&(r=this.keys(e),a=r.length);for(var u=new Array(a),c=0;a>c;c++)i=r?r[c]:c,u[c]=n(e[i],i,e);return u},now:function(){return+Date.now()||+new Date},throttle:function(e,n,t){var o,i,r,a=this,u=null,c=0;t||(t={});var s=function(){c=t.leading===!1?0:a.now(),u=null,r=e.apply(o,i),u||(o=i=null)};return function(){var d=a.now();c||t.leading!==!1||(c=d);var f=n-(d-c);return o=this,i=arguments,0>=f||f>n?(clearTimeout(u),u=null,c=d,r=e.apply(o,i),u||(o=i=null)):u||t.trailing===!1||(u=setTimeout(s,f)),r}},debounce:function(e,n,t){var o,i,r,a,u,c=this,s=function d(){var s=c.now()-a;n>s&&s>0?o=setTimeout(d,n-s):(o=null,t||(u=e.apply(r,i),o||(r=i=null)))};return function(){r=this,i=arguments,a=c.now();var d=t&&!o;return o||(o=setTimeout(s,n)),d&&(u=e.apply(r,i),r=i=null),u}},login:function(n){n=n||location.href,e.ua["native"]&&"object"===("undefined"==typeof mgj?"undefined":_typeof(mgj))?location.href="mls://login":location.href="http://m.meilishuo.com/user/login"},parseUrl:function(e,n){return{}},toFixed:function(e,n){var t,o=0;n=n||2;var i=Math.pow(10,n||0);t=String(Math.round(e*i)/i);var r=t.split(".")[1];r?o=r.length:n!=o&&(t+=".");for(var a=0;n-o>a;a++)t+="0";return t},formatTime:function(e,n){var t=new Date(parseInt(1e3*e));n=n||"YY-MM-DD";var o=t.getFullYear(),i=parseInt(t.getMonth()),r=parseInt(t.getDate()),a=o,u=i>8?i+1:"0"+(i+1),c=r>9?r:"0"+r;return n.replace(/YY/i,a).replace(/MM/i,u).replace(/DD/i,c)}}}),define("fn/fn",["core/core","fnExtend"],function(e,n){return e.fn={set:function(n,t){e._global[n]&&e.error(n+"\u5305\u5c06\u88ab\u66ff\u6362"),e._global[n]=t},get:function(n){return e._global[n]||!1},getQueryString:function(e,n){n=n||location.href,n=n.split("#")[0];var t=new RegExp("(^|\\?|&)"+e+"=([^&]*)(\\s|&|$)","i");return t.test(n)?RegExp.$2.replace(/\+/g," "):""},setCookie:function(e,n,t){t=t||{},null===n&&(n="",t.expires=-1);var o="";if(t.expires&&("number"==typeof t.expires||t.expires.toUTCString)){var i;"number"==typeof t.expires?(i=new Date,i.setTime(i.getTime()+864e5*t.expires)):i=t.expires,o="; expires="+i.toUTCString()}var r=t.path?"; path="+t.path:"",a=t.secure?"; secure":"",u="";t.domain?u="; domain="+t.domain:(u=document.domain.toString().split("."),u="; domain=."+u[1]+"."+u[2]),document.cookie=[e,"=",encodeURIComponent(n),o,r,u,a].join("")},getCookie:function(e){var n=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!==n?decodeURIComponent(n[2]):""},removeCookie:function(n){e.util.setCookie(n,null,{expires:-1})},idtourl:function(e){return e?1+(2*e+56).toString(36):void 0},urltoid:function(e){return(parseInt(e.substring(1),36)-56)/2},walkThrough:function(e,n){n=n||window;var t=(e||"").split("."),o=!!t.length;return $(t).each(function(e,t){return o=o&&null!==n[t]&&void 0!==n[t],o===!1?o:void(n=n[t])}),o},cAjax:function(e){return $.ajax(e)}},$.extend(e.fn,n),e}),define("uiExtend",[],function(){function e(){t.css("display","block")}function n(){t.css("display","none")}var t=$("#M_Loading");return{showMask:function(e){e=e||$("#M_Mask"),e.show()},hideMask:function(e){e=e||$("#M_Mask"),e.hide()},showLoading:function(){MoGu.ua["native"]?"undefined"!=typeof mgj&&mgj.progress?(MoGu.ui.showLoading=mgj.progress.show,n(),mgj.progress.show()):e():(e(),MoGu.ui.showLoading=e)},hideLoading:function(){n(),MoGu.ua["native"]?"undefined"!=typeof mgj&&mgj.progress&&(MoGu.ui.hideLoading=mgj.progress.hide,mgj.progress.hide()):MoGu.ui.hideLoading=n},initRem:function(e){e=+e||100;var n=window.document.documentElement,t=Math.min(n.clientWidth,750);n.style.fontSize=t/(750/e)+"px"}}}),define("lib/doT",[],function(){function e(){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=/&(?!#?\w+;)|<|>|"|'|\//g;return function(){return this?this.replace(n,function(n){return e[n]||n}):this}}function n(e,t,o){return("string"==typeof t?t:t.toString()).replace(e.define||r,function(n,t,i,r){return 0===t.indexOf("def.")&&(t=t.substring(4)),t in o||(":"===i?(e.defineParams&&r.replace(e.defineParams,function(e,n,i){o[t]={arg:n,text:i}}),t in o||(o[t]=r)):new Function("def","def['"+t+"']="+r)(o)),""}).replace(e.use||r,function(t,i){e.useParams&&(i=i.replace(e.useParams,function(e,n,t,i){if(o[t]&&o[t].arg&&i){var r=(t+":"+i).replace(/'|\\/g,"_");return o.__exp=o.__exp||{},o.__exp[r]=o[t].text.replace(new RegExp("(^|[^\\w$])"+o[t].arg+"([^\\w$])","g"),"$1"+i+"$2"),n+"def.__exp['"+r+"']"}}));var r=new Function("def","return "+i)(o);return r?n(e,r,o):r})}function t(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var o={version:"1.0.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1},template:void 0,compile:void 0};String.prototype.encodeHTML=e();var i={append:{start:"'+(",end:")+'",endencode:"||'').toString().encodeHTML()+'"},split:{start:"';out+=(",end:");out+='",endencode:"||'').toString().encodeHTML();out+='"}},r=/$^/;return o.template=function(a,u,c){u=u||o.templateSettings;var s,d,f=u.append?i.append:i.split,l=0,p=u.use||u.define?n(u,a,c||{}):a;p=("var out='"+(u.strip?p.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):p).replace(/'|\\/g,"\\$&").replace(u.interpolate||r,function(e,n){return f.start+t(n)+f.end}).replace(u.encode||r,function(e,n){return s=!0,f.start+t(n)+f.endencode}).replace(u.conditional||r,function(e,n,o){return n?o?"';}else if("+t(o)+"){out+='":"';}else{out+='":o?"';if("+t(o)+"){out+='":"';}out+='"}).replace(u.iterate||r,function(e,n,o,i){return n?(l+=1,d=i||"i"+l,n=t(n),"';var arr"+l+"="+n+";if(arr"+l+"){var "+o+","+d+"=-1,l"+l+"=arr"+l+".length-1;while("+d+"<l"+l+"){"+o+"=arr"+l+"["+d+"+=1];out+='"):"';} } out+='"}).replace(u.evaluate||r,function(e,n){return"';"+t(n)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|\}|^|\{)out\+=''\+/g,"$1out+="),s&&u.selfcontained&&(p="String.prototype.encodeHTML=("+e.toString()+"());"+p);try{return new Function(u.varname,p)}catch(g){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+p),g}},o.compile=function(e,n){return o.template(e,null,n)},o}),define("ui/ui",["uiExtend","lib/doT"],function(e,n){var t=n.template;return n.template=function(){var e=arguments;return"function"==typeof e[0]?e[0]:t.apply(n,e)},MoGu.ui={jsMbSubstr:function(e,n){if(!e||!n)return"";var t=0,o=0,i="",r=e.length;for(o=0;r>o;o++){if(t=e.charCodeAt(o)>255?t+=2:++t,t>2*n)return i;i+=e.charAt(o)}return e},getPicExtension:function(e){var n=e.match(/.+\.(.+)$/);return n?n[1]:""},getTemplate:function(e,t){try{return"function"==typeof e?e(t):n.template(e)(t)}catch(o){return o}},getdoT:function(){return n}},$.extend(MoGu.ui,e),MoGu}),define("ui/tips",["fn/fn"],function(e){var n={duration:1500},t=function(e){var t=$.extend({},n,e);this.duration=t.duration,this.init()};t.prototype={init:function(){this.elem=$("#M_Tips"),this.elem.get(0)||(this.elem=$("<div id='M_Tips' class='ui-tips' style='display:none;'><span class='ui-tips-text'></span></div>"),this.elem.appendTo("body")),this.text=this.elem.find(".ui-tips-text")},show:function(e,n,t){var o=this;o.elem.show(),e&&"string"==typeof e&&o.text.html(e).removeClass("fadeOut").addClass("fadeIn"),isNaN(n)&&!$.isFunction(t)&&t!==!1&&(t=n,n=o.duration),0!=n&&o.hide(n,t)},hide:function(e,n){var t=this,o=null;o=setTimeout(function(){t.text.removeClass("fadeIn").addClass("fadeOut"),setTimeout(function(){t.elem.hide(),n&&n()},500)},e||t.duration)}},e.fn.set("tip",t);var o=new t;return o}),define("core/cube/app",["core/ua","fn/fn"],function(e){function n(n,t){e.ua["native"]&&(t=t||$("body"),t.on("click",n,function(e){var n=$(this),t=n.attr("href");if(!(t.indexOf("http://")<0&&t.indexOf("https://")<0||t.indexOf("mgj://")>=0||t.indexOf("javascript")>=0))return t=logger&&logger.generatePtpParams(t)||t,window.mgj&&mgj.navigation&&mgj.navigation.pushWindow?(mgj.navigation.pushWindow(t),!1):window.mgj?(window.location.href="mgj://web?url="+encodeURIComponent(t),!1):void 0}))}function t(){if(!e.ua["native"])return-1;var n=new RegExp("(^|[?]|&)_av=([0-9]{3})","i"),t=window.location.search.match(n);if(t&&t[2]>400)return parseInt(t[2]);var o=window.navigator.userAgent,i="",r="";return $.os.iphone&&(i=new RegExp("(mogujie4iphone).*/([0-9]{3})","i"),r=o.match(i),r&&r[2]>400)?parseInt(r[2]):$.os.android&&(i=new RegExp("(mogujie4android).*/([0-9]{3})","i"),r=o.match(i),r&&r[2]>400)?parseInt(r[2]):void 0}function o(e){document.addEventListener("deviceready",function(){return window.mgj&&mgj.device&&mgj.device.getInfo?void mgj.device.getInfo(function(n){"string"==typeof n&&(n=JSON.parse(n)),e(+n.appVersion)},function(){e(-1)}):void e(-1)})}return $.extend(e.fn,{openLinkView:n,getAppVersion:t,getAppVersionAsync:o,platform:e.ua.phone?e.ua["native"]?"app":"wap":"pc"}),e}),define("core/cube/lazyload",["core/core"],function(){window.MoGu=window.MoGu||{};var e=navigator.userAgent;MoGu.isUseWebp=!1;var n={imgKeyArr:["80","100","160","180","200","240","280","300","320","360","400","440","480","520","540","560","600","640"],imgKeyMap:{80:{"1:1":"80x80","7:9":"80x103","3:4":"80x107","2:3":"80x120",999:"80x999"},100:{"1:1":"100x100","7:9":"100x129","3:4":"100x134","2:3":"100x150",999:"100x999"},160:{"1:1":"160x160","7:9":"160x206","3:4":"160x214","2:3":"160x240",999:"160x999"},180:{"1:1":"180x180","7:9":"180x232","3:4":"180x240","2:3":"180x270",999:"180x999"},200:{"1:1":"200x200","7:9":"200x258","3:4":"200x268","2:3":"200x300",999:"200x999"},240:{"1:1":"240x240","7:9":"240x308","3:4":"240x320","2:3":"240x360",999:"240x999"},280:{"1:1":"280x280","7:9":"280x360","3:4":"280x374","2:3":"280x420",999:"280x999"},300:{"1:1":"300x300","7:9":"300x386","3:4":"300x400","2:3":"300x450",999:"300x999"},320:{"1:1":"320x320","7:9":"320x412","3:4":"320x428","2:3":"320x480",999:"320x999"},360:{"1:1":"360x360","7:9":"360x463","3:4":"360x480","2:3":"360x540",999:"360x999"},400:{"1:1":"400x400","7:9":"400x515","3:4":"400x534","2:3":"400x600",999:"400x999"},440:{"1:1":"440x440","7:9":"440x566","3:4":"440x587","2:3":"440x660",999:"440x999"},480:{"1:1":"480x480","7:9":"480x618","3:4":"480x640","2:3":"480x720",999:"480x999"},520:{"1:1":"520x520","7:9":"520x670","3:4":"520x694","2:3":"520x780",999:"520x999"},540:{"1:1":"540x540","7:9":"540x695","3:4":"540x720","2:3":"540x810",999:"540x999"},560:{"1:1":"560x560","7:9":"560x720","3:4":"560x747","2:3":"560x840",999:"560x999"},600:{"1:1":"600x600","7:9":"600x772","3:4":"600x800","2:3":"600x900",999:"600x999"},640:{"1:1":"640x640","7:9":"640x824","3:4":"640x854","2:3":"640x960",999:"640x999"}},imgQuality:70,dprDefMaxWidth:640,dprDefRatio:"999",defCode:"999x999.v1c0",clientHeight:null,clientWidth:null,dpr:null,dprClentWidth:null};n.ua=e,n.android=e.match(/(Android);?[\s\/]+([\d.]+)?/),n.ios=e.match(/(iPad).*OS\s([\d_]+)/)||e.match(/(iPod)(.*OS\s([\d_]+))?/)||e.match(/(iPhone\sOS)\s([\d_]+)/),n.wp=e.match(/Windows Phone ([\d.]+)/),n.is_mobile=n.android||n.ios||n.wp,n.is_ie_old=e.indexOf("MSIE")>0,n.init=function(){var e=this;e.clientHeight=document.documentElement.clientHeight||document.body.clientHeight,e.clientWidth=document.documentElement.clientWidth||document.body.clientWidth,window.addEventListener("resize",function(){e.clientHeight=document.documentElement.clientHeight||document.body.clientHeight,e.clientWidth=document.documentElement.clientWidth||document.body.clientWidth},!1),e.dpr=window.devicePixelRatio>=1?window.devicePixelRatio:1,e.dprClentWidth=e.clientWidth*e.dpr,e.checkSupportWebp()},n.setWebpFlag=function(e){MoGu.isUseWebp=!!e},n.checkSupportWebp=function(){var e=this,n=new Image;n.onload=function(){e.setWebpFlag(!0)},n.onerror=function(){e.ios&&"undefined"!=typeof localStorage?e.setWebpFlag(!!localStorage.getItem("isWebpEnable")):e.setWebpFlag(!1)},n.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAsAAAABBxAREYiI/gcAAABWUDggGAAAADABAJ0BKgEAAQABABwlpAADcAD+/gbQAA=="},n.getDefSuffix=function(e,n){var t=this,o="";if(t.android||t.ios||t.wp){var i=t.dprClentWidth;375>=i?o="375x9999.v1c7E":i>375&&750>=i?o="750x9999.v1c7E":i>750&&(o="1125x9999.v1c7E")}else o=t.defCode;return t.getCodeSuffix(e,o,n)},n.getWidthSuffix=function(e,n,t,o){var i=this;"undefined"==typeof o&&(o=!0);var r=i.defCode,a=o?i.dpr:1,u=parseInt(n)*a;return u&&u>0&&2e3>=u&&(r=100*Math.ceil(u/100)+"x9999.v1c7E"),i.getCodeSuffix(e,r,t)},n.getGoodsRatioSuffix=function(e,n,t,o,i){var r=this;"undefined"==typeof i&&(i=!0);var a=r.defCode,u="",c=".v1cAC",s=i?r.dpr:1;switch(t){case"1:1":case"7:9":case"3:4":case"2:3":u=t;break;default:u=r.dprDefRatio,c=".v1c96"}var d=parseInt(n)*s;(!d||0>d||d>r.dprDefMaxWidth)&&(d=r.dprDefMaxWidth);for(var f=0;f<r.imgKeyArr.length;f++){var l=r.imgKeyArr[f];if(l>=d||l==r.dprDefMaxWidth){a=r.imgKeyMap[l][u]+c;break}}return r.getCodeSuffix(e,a,o)},n.getHalfSuffix=function(e,n){var t=this,o="";return t.dpr<2?(o="50000x50000.v1c7E",e=t.getCodeSuffix(e,o,n)):e=t.getDefSuffix(e,n),e},n.getCodeSuffix=function(e,n,t){var o=this,i=e;if(!e||!n||"no"==n||e.indexOf(".webp")>0||e.indexOf(".gif")>0)return e;if(-1===e.indexOf("mogucdn"))return e;if(e.indexOf(".jpg")<0&&e.indexOf(".png")<0)return e;if(e.indexOf(".jpg")>0&&e.indexOf(".png")>0)return e;var r="",a=e.split(".");if("jpg"==a[a.length-1])r="jpg";else{if("png"!=a[a.length-1])return e;r="png"}var n="_"+n,u="."+o.imgQuality+".";if(e.indexOf(".png_")<0&&e.indexOf(".jpg_")<0&&e.indexOf("."+r)==e.length-4&&(e=e+n+u+r),MoGu.isUseWebp&&t!==!1){if(e.indexOf("."+r+"_")>0){var c=e.split(".");c[c.length-1]==r&&(c[c.length-1]="webp",e=c.join("."))}}else if("png"==r)return i;return e},n.getAppInfo=function(){var e=this;"undefined"!=typeof hdp?(hdp["do"]("mgj.device.getInfo").then(function(n){n&&n.networkType&&4!=n.networkType&&5!=n.networkType&&(e.imgQuality=50)})["catch"](function(e){}),e.ios&&"undefined"!=typeof localStorage&&hdp["do"]("hybrid.settings.getWebpEnabled").then(function(e){localStorage.setItem("isWebpEnable",e)})["catch"](function(){localStorage.setItem("isWebpEnable",!1)})):"undefined"!=typeof document&&document.addEventListener("deviceready",function(){window.mgj&&mgj.device&&mgj.device.getInfo&&mgj.device.getInfo(function(n){n&&n.networkType&&4!=n.networkType&&5!=n.networkType&&(e.imgQuality=50)}),e.ios&&"undefined"!=typeof localStorage&&window.hybrid&&hybrid.settings&&hybrid.settings.getWebpEnabled&&hybrid.settings.getWebpEnabled(function(e){localStorage.setItem("isWebpEnable",e)},function(){localStorage.setItem("isWebpEnable",!1)})},function(){})},MoGu.ImgUrlTool||(n.init(),MoGu.ImgUrlTool=n);var t=Date.now||function(){return(new Date).getTime()},o=function(e){this.opts=$.extend({},this.defaults,e),this.init(),this.scrollIndTime=n.is_ie_old?400:200,this.fistCheck=!1,this.imgErrorClock={}};o.prototype={init:function(){var e=this,n=t();$(window).scroll(function(o){var i=t();i-n>e.scrollIndTime&&(n=i,e.checkImages())}),setTimeout(function(){e.fistCheck=!0,e.checkImages()},0),$("body").append("<style>.J_dynamic_img { width: 100%; }</style>")},checkImages:function(e){var t=e?e:$("body"),o=this;if(o.fistCheck)for(var i=document.documentElement.scrollTop||document.body.scrollTop,r=o.opts.showDistance,a=i-r,u=i+(n.clientHeight||document.documentElement.clientHeight||document.body.clientHeight)+r,c=0,s=n.clientWidth,d=t.find("."+o.opts.objsClassName),f=d.length,l=0;f>l;l++){var p=d.eq(l);if(p.attr("img-src")){var g=p.find(".J_dynamic_img"),m=p.hasClass("J_loading"),h=p.attr("need-remove")?p.attr("need-remove"):"no";if(!g.length||"yes"==h){var w="none"!=p.css("display")&&"hidden"!=p.css("visibility")&&0!=p.css("opacity")&&p[0].offsetWidth,v=p.offset().top,x=v+p.height(),y=p.offset().left,b=y+p.width(),A=x>=a&&u>=v&&b>=c&&s>=y;w&&A?g.length||m||o.loadingImage(p):"yes"==h&&(g.length||m)&&(p.removeClass("J_loading"),g.remove())}}}},preloadImages:function(e){var n=this;if(e&&e.length&&e.hasClass&&e.find)for(var t=e.find("."+n.opts.objsClassName),o=t.length,i=0;o>i;i++){var r=t.eq(i);if(r.attr("img-src")){var a=r.find(".J_dynamic_img"),u=r.hasClass("J_loading");a.length||u||(r.attr("need-remove","no"),n.loadingImage(r))}}},loadingImage:function(e){var n=this;e.addClass("J_loading");var t=n.getAddCodeUrl(e);if(!(n.imgErrorClock[t]>=5)){var o=new Image;o.src=t,o.complete?n.insertImg(o,e):(o.onload=function(){n.insertImg(o,e)},o.onerror=function(){e.removeClass("J_loading"),n.imgErrorClock[t]?n.imgErrorClock[t]++:n.imgErrorClock[t]=1})}},getAddCodeUrl:function(e){var t=e.attr("img-src"),o=e.attr("suffix-width")?e.attr("suffix-width"):e.width(),i=e.attr("suffix-ratio"),r=e.attr("suffix-code"),a=e.attr("suffix-model"),u="no"!=e.attr("use-webp");if(r)return n.getCodeSuffix(t,r,u);if(i){if("1:1"==i||"7:9"==i||"3:4"==i||"2:3"==i)return n.getGoodsRatioSuffix(t,o,i,u)}else if("orig_narrow"==a)return n.getHalfSuffix(t,u);return n.getWidthSuffix(t,o,u)},insertImg:function(e,n){n.hasClass("J_loading")&&(n.removeClass("J_loading"),n.append('<img class="J_dynamic_img fill_img" src="'+e.src+'" alt=""/>'))},defaults:{objsClassName:"J_dynamic_imagebox",showDistance:0}},window.MoGu=window.MoGu||{};var i=MoGu.dynamicImage;return i||(i=new o({showDistance:$(window).height()}),MoGu.dynamicImage=i),MoGu}),define("fn/time",["fn/fn"],function(){var e,n=!1,t=!1,o=0,i=[],r=function(){window.console&&window.console.log&&window.console.log("get server time error"),e=new Date,$(window).trigger("getServerTime",e),n=!0},a=function(){return $.ajax({url:"https://time.mogujie.com/time.php",type:"GET",timeout:10001,dataType:"jsonp",jsonpCallback:"jquery_get_time_ver1"})},u=function(){a().done(function(t){if(t&&t.result&&t.result.time){var i=new Date(1e3*t.result.time);e=i,o=+new Date-i.getTime(),$(window).trigger("getServerTime",i),n=!0}else r()}).fail(r)},c=function(e){for(i.length;i.length>0;){var n=i.shift();n(e)}};MoGu.fn=$.extend({},MoGu.fn,{forceGetRealTime:function(e){a().done(function(n){if(n&&n.result&&n.result.time){var t=new Date(1e3*n.result.time);e(t)}else e(new Date)}).fail(function(){e(new Date)})},getDiff:function(){return o},getServerTime:function(o){i.push(o),t||(t=!0,$(window).on("getServerTime",function(e,n){c(n)}),u()),n&&c(e)}})}),define("fn/showlog",["fn/fn","core/ua","core/cube/app"],function(){function e(e){return"none"!=e.css("display")&&"hidden"!=e.css("visibility")&&0!=e.css("opacity")&&e.width()&&e.height()}function n(n){var t=n.offset().top,o=n.height(),i=n.offset().left,r=n.offset().width,a=$(window).scrollTop(),u=$(window).scrollLeft(),c=$(window).width(),s=$(window).height(),d=t>=a&&a+s>t,f=t+o>a&&a+s>=t+o,l=a>t&&t+o>a+s,p=i>=u&&u+c>i,g=i+r>u&&u+c>=i+r,m=u>i&&i+r>u+c;return e(n)&&(d||f||l)&&(p||g||m)}function t(){if(h.length||w){var e=function(e){o||(o=e),w?(w.ver=o||"",y(m||70500,w),w=null,m=null):(y(m||70500,{acms:h,iids:v,indexs:x,ver:o||""}),h=[],v=[],x=[],m=null)};!o&&MoGu.ua["native"]&&MoGu&&MoGu.fn&&MoGu.fn.getAppVersionAsync?MoGu.fn.getAppVersionAsync(e):e(o)}$("."+a).length?(i=!0,window.setTimeout(t,1e3)):i=!1}var o="",i=!1,r=!1,a="rec-show-log",u="show-log-item",c="waiting-log",s="log-custom",d="data-log-content",f="data-log-iid",l="data-log-index",p="preserve-log",g=$("."+a),m=null,h=[],w=null,v=[],x=[],y=function(e,n){var t=window&&window.logger&&window.logger.log;t&&t(e,n)},b=function(e){var n=e.attr(d),t=n.split(";");$(t).each(function(e,n){var t=n.split("="),o=t[0];o&&(w=w||{},w[o]=w[o]||[],w[o].push(n.replace(o+"=","")))})},A=function(){$("."+a).each(function(e,t){var o=$(t);if(n(o)||o.hasClass(c)){o.removeClass(c);var i=o.attr(p),r=o.find("."+u);r.length?$(r).each(function(e,t){var i=$(t);if(n(i)||i.hasClass(c)){if(i.removeClass(c),m&&m!==o.data("eventid"))return o.addClass(c),void i.addClass(c);i.hasClass(s)?b(i):(null!==i.attr(l)&&""!==i.attr(l)&&void 0!==i.attr(l)&&x.push(i.attr(l)),i.attr(d)&&h.push(i.attr(d)),i.attr(f)&&v.push(i.attr(f))),m=o.data("eventid"),i.removeClass(s).removeClass(u).removeAttr(d).removeAttr(f).removeAttr(l)}}):i||o.removeClass(a)}}),!h.length&&!w||i||t()},C=function M(){g=$("."+a),r||(g.length?(r=!0,$(window).scroll(A),$(window).trigger("scroll")):window.setTimeout(M,1e3))};C(),MoGu.fn=$.extend({},MoGu.fn,{showLog:A})}),define("base/MoGu",["core/core","core/const","core/polyfill","core/error","core/ua","fn/fn","fn/time","fn/showlog","ui/ui","ui/tips","core/cube/lazyload","core/cube/app"],function(e){return e}),define("jQuery",function(){return $}),require(["base/MoGu"],function(e){return e});"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};$.fn.listenToLazyData=function(e){var t=$(this).data("source-key");return MoGu&&MoGu.lazyInstance&&MoGu.lazyInstance._cache&&MoGu.lazyInstance._cache[t]?void e({},!0,"",t,MoGu.lazyInstance._cache[t]||[],!1):void $(this).one("receive-data",e)},define("base/core/datalazy",["ui/ui"],function(e){function t(e){window.console&&console.warn&&console.warn.apply&&console.warn.apply&&console.log.apply(console,arguments)}function a(e){window.console&&console.error&&console.error.apply&&console.error.apply(console,arguments)}function o(e,t,a){var o=e.top,n=o+e.height;return a=a||0,!(t-a>n||o>t+d+a)}function n(e){return"none"!=e.css("display")&&"hidden"!=e.css("visibility")&&0!=e.css("opacity")&&e.width()}function r(e){var t={},a=e.split(";");return $(a).each(function(e,a){var o=a.split("="),n=o[0];n&&(t[n]=a.replace(n+"=",""))}),t}function c(t,a,o){var n=t.find("#template-tpl").html(),r=e.ui.getTemplate(n,a||[]),c=t.find(t.data("placeholder")||".entry-wrap");o?c.append(r):c.html(r)}function s(e){!this instanceof s&&a("please new function"),this.init(e)}"function"!=typeof Object.assign&&!function(){Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),a=1;a<arguments.length;a++){var o=arguments[a];if(void 0!==o&&null!==o)for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])}return t}}(),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=a.length;return function(n){if("object"!==("undefined"==typeof n?"undefined":_typeof(n))&&("function"!=typeof n||null===n))throw new TypeError("Object.keys called on non-object");var r,c,s=[];for(r in n)e.call(n,r)&&s.push(r);if(t)for(c=0;o>c;c++)e.call(n,a[c])&&s.push(a[c]);return s}}()),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var a,o;if(null==this)throw new TypeError("this is null or not defined");var n=Object(this),r=n.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(a=t),o=0;r>o;){var c;o in n&&(c=n[o],e.call(a,c,o,n)),o++}});var i={dynamic:{url:"https://mce.mogucdn.com/jsonp/multiget/3",backupUrl:"https://mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},merge:{url:"https://mce.mogucdn.com/jsonp/multiget/3",backupUrl:"https://mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},appolo:{url:"https://mce.mogucdn.com/jsonp/multiget/3",backupUrl:"https://mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},mce:{url:"https://mce.mogucdn.com/jsonp/multiget/3",backupUrl:"https://mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},mceats:{url:"https://mce.mogucdn.com/jsonp/multiget/3",backupUrl:"https://mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},mceonline:{url:"https://mce.meilishuo.com/jsonp/multiget/3",backupUrl:"https://mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},mcereconline:{url:"https://mce.meilishuo.com/jsonp/multirecommend/4",backupUrl:"https://mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"}},p=20,u=80,l={loading:1,success:2,paging:3,error:4},d=$(window).height();return s.DEFAULT_CONFIG={timeout:8e3,deviation:d,SELECTORS:{COLD:".coldData",AJAX:".lazyData"}},s.prototype={_cache:{},_ajaxMap:{},_hasReRendered:!1,handler:null,destory:function(){$(window).off("scroll touchmove resize",this.handler)},init:function(e){var t=this;this.config=$.extend({},s.DEFAULT_CONFIG,e),this.prepareAjaxData(),this.loadAjaxData(),this.handler=function(){t.loadAjaxData.call(t)},$(window).on("scroll touchmove resize",this.handler)},prepareAjaxData:function(e){var a=this.config.SELECTORS,o=$(a.AJAX),n=this,c=0,s=1,l=(o.length,e?""+parseInt(100*Math.random()):"");this.$elems=o,o.each(function(e){var a=$(this),o=a.data("source-type"),d=a.data("floornum")||p,f=a.data("source-alone")||"",h=a.data("extra-param")||"",m=a.offset();if(!i[o])return void t("unknown data source type",o);c+=d,c>u&&(c=0,s++),h&&(h=r(h)),(f||h)&&(l=""+parseInt(100*Math.random())),o+=s,o+=l;var y=n._ajaxMap[o]=n._ajaxMap[o]||{source:$.extend(i[a.data("source-type")],{data:h||{}}),refreshType:l,list:[],offset:m};y.list.push({key:a.data("source-key"),dom:a,offset:m,param:null}),m.top<y.offset.top&&$.extend(y.offset,m),a.data("source-type","")})},updateAjaxMap:function(e){if(e="boolean"!=typeof e?!1:e,this._hasReRendered&&(e=!0,this._hasReRendered=!1),e){var a=this._ajaxMap;Object.keys(a).forEach(function(e){var o=a[e],n=o.list;if(!o.status)for(var r=0;r<n.length;r++){var c=n[r],s=c.dom,i=s.offset(),p=s.data("source-key");p||t("source-key of the current dom should exist"),p!==c.key&&t("source-key[",p,"] of the current dom should match",c.key),c.offset=i}})}},loadAjaxData:function(){this.updateAjaxMap();var e=this._ajaxMap,a=$(window).scrollTop(),r=this._cache,s=this;for(var i in e)!function(i){var p=e[i];if(!p.status){for(var u=p.list,d=p.source,f=p.refreshType,h=!1,m=0;!h&&m<u.length;m++)h=h||o(u[m].offset,a,s.config.deviation)&&n(u[m].dom);if(h){for(var y=[],m=0;m<u.length;m++)y.push(u[m].key);y=y.join(",");var j=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a+f]=e[a].list);$.extend(r,t);for(var o=0;o<u.length;o++){var n=u[o],i=$(n.dom),d=n.key+f;r[d]&&(i.data("manual")||c(i,r[d]),i.trigger("receive-data",[!0,"",d,r[d]||[]]))}p.status=l.success,setTimeout(function(){s._hasReRendered=!0,$(window).trigger("scroll")},50)},g=function(e){if(e&&e.success&&e.returnCode&&"SUCCESS"==e.returnCode){var t=e.data;j(t)}else b(new Error(e&&e.returnCode||"error interface"))},b=function(e){var a=null;if(!e)return a=$.Deferred(),a.resolve(null),a;if(t("use backup url due to",e.toString()),!d.backupUrl)return void t("no backupUrl");var o=$.ajax;$._ajax&&"jsonp"===d.type&&(o=$._ajax);var n=$.extend({},d.data),r=(y||"").split(",");$(r).each(function(e,t){n[d.backupParam]=t,o.call($,{url:d.backupUrl,type:"GET",dataType:"jsonp",cache:!0,beforeSend:function(e,a){a.url=a.url.substring(0,a.url.indexOf("?")),a.url+="%3Fpid="+t+"&callback=jsonp"+t+"backup"},jsonpCallback:"jsonp"+t+"backup",data:n}).then(function(e){v.call(this,e,t)})})},v=function(e,t){if(e&&e.success&&e.returnCode&&"SUCCESS"==e.returnCode){var a={};a[t]=e.data,j(a)}};p.status=l.loading;var k=$.ajax;$._ajax&&"jsonp"===d.type&&(k=$._ajax);var w={};$(".page_activity").hasClass("debug")&&(w=$.extend(w,{testing:1}));var x=$.extend(w,d.data);x[d.param]=y;var _="jsonp"+y.replace(/,/g,"_");_&&window[_]&&"function"==typeof window[_]&&(_+="new"),k.call($,{url:d.url,type:"jsonp"!==d.type?d.type:"GET",dataType:"jsonp"!==d.type?"json":"jsonp",data:x,cache:!0,timeout:s.config.timeout,jsonpCallback:_}).done(g).fail(b)}}}(i)}},s}),require(["base/MoGu","base/core/datalazy"],function(e,t){$(function(){var a=new t;return e.lazyInstance=a,e})});