!function(){"use strict";define(["jquery","lodash","cssmap","bootstrap.collapse"],function(o,n,t){function s(n){return!o(n.target).hasClass(t("bsCollapse"))}function e(n){var s=o(n.target),e=s.parent().closest(t(".","bsAccordionGroup",", .","bsCollapse")).not(t(".","bsCollapse")),l=e.find(t(".","bsAccordionToggle"));return{body:s,group:e,toggleButton:l}}function l(o){if(!s(o)){var n=e(o);n.toggleButton.removeClass(t("collapsed")),c(n.body)}}function a(o){if(!s(o)){var n=e(o);n.toggleButton.addClass(t("collapsed")),i(n.body)}}function r(o,n){if(o.has("input, textarea, select, button")){var s=o.find(t(".","bsCollapse"));s=s[n?"not":"filter"](t(" .","bsIn")),require(["jquery.formfocus"],function(){o.fnbFormFocus(n),s.length&&s.fnbFormFocus(!n)})}}function c(o){r(o,!0)}function i(o){r(o,!1)}function u(){var n=o(t(".","bsCollapse")),s=n.filter(t(".","bsIn")),e=n.filter(t(":not(.","bsIn",")"));o(document).on("shown.bs.collapse",t(".","bsCollapse"),l).on("hidden.bs.collapse",t(".","bsCollapse"),a).on("touchend",'[data-toggle="collapse"]',function(n){o(this).trigger("touchend.bs.collapse.data-api",n)}),c(s),i(e),o(t(".","buyBtn")).addClass(t("bsIn")).trigger("shown.bs.collapse")}return{init:u}})}();