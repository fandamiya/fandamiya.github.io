!function(){"use strict";define(["jquery","lodash","settings","cssmap","modules.scroll"],function(i,n,a,s,t){function o(i){i.addClass(s("stickyVisible")).removeClass(s("stickyHidden"))}function e(i){i.addClass(s("stickyHidden")).removeClass(s("stickyVisible"))}function r(i){i.hasClass(s("stickyHidden"))?(i.removeClass(s("stickyHidden")),o(i)):(i.addClass(s("stickyHidden")),e(i))}function c(){var i=v.subNavigation.find(s(".","stickylink"));i.length<3&&!v.Navigation.hasClass(s("stickyHidden"))?(t.remove(v.subNavigation),v.subNavigation.css("height","auto")):(v.subNavigation.css("height",""),t.init(v.subNavigation,i,param))}function d(){var n={cursorcolor:"#808080",cursorborderradius:"3px",cursorborder:"none",cursoropacitymax:.3,bouncescroll:!1,sensitiverail:!1,horizrailenabled:!1};m.ismany===!0?(v.Navigation.addClass(s("stickyManyItems")).find(i(".has_btn")).insertBefore(".span4.fnb_col-wd4").addClass(s("btnOutside")),t.init(v.subNavigation,v.subNavigation.find(s(".","stickylink")),n)):(m.ismany=!1,v.Navigation.removeClass(s("stickyManyItems")).find(i(".has_btn")).appendTo(i(s(".","stickylink"))).removeClass(s("btnOutside")),e(v.Navigation),t.remove(v.subNavigation),v.subNavigation.css("overflow-y",""))}function l(){(i("body").hasClass(s("fnb_tablet"))||m.WIN.width()<=1024)&&m.ismany===!0?v.subNavigation.appendTo(v.Navigation):v.Navigation.find(".container > .row").append(v.subNavigation)}function b(){var i=m.WIN.width(),n=v.mainTitle.parent().outerWidth(),a=m.last_cWIDTH?m.last_cWIDTH:v.subNavigation.outerWidth(),s=n+a,t=v.Navigation.find(".container").first();return s>=t.width()||1e3>i?(m.ismany=!0,m.last_cWIDTH=a,d(),!0):(m.last_cWIDTH=a,m.ismany=!1,!1)}function u(){b(),d(),l()}function g(a){v.Navigation=i(s(".","stickyContainer")),v.subNavigation=i(s(".","stickySubNav")),v.mainTitle=i(s(".","stickyTitle")),v.CloseBtn=i(s(".","stickyCloseBtn")),v.bill=i(s(".","bill")),m.isTabDevice&&i("body").addClass(s("tablet")),v.Navigation.css("background","#fff");var t=(i(s(".","moodboard")).length||i(s(".","stickyMdb")).length)&&v.Navigation.length?!0:!1;t&&v.Navigation.find(s(".","button")).length&&v.Navigation.find(s(".","button")).parent().addClass("has_btn"),t&&u(),v.CloseBtn.on("click",function(i){i.preventDefault(),r(v.Navigation),c()}),v.Navigation.on("click touchstart","button",function(){v.bill.find(s(".","submit",">"," button")).trigger("click")}),t&&m.WIN.on("resize",n.debounce(u,250)).on("orientationchange",n.debounce(u,250)),"ontouchmove"in window?m.WIN.on("scroll",function(){v.Navigation.removeClass(s("stickyVisible")).addClass(s("stickyHidden")),v.subNavigation.css("height","")}):m.WIN.on("scroll",function(){v.Navigation.removeClass(s("stickyVisible")).addClass(s("stickyHidden")),v.subNavigation.css("height","")}),function(){var n=i(".stickybar"),a=i(".fnb_content-bg").eq(0);n.length&&a.css("margin-top","60px")}()}var v={},m={isTouch:a.browser.isTouch,isTabDevice:null!=navigator.userAgent.match(/(android|iphone|ipad|blackberry|symbian|symbianos|symbos|netfront|model-orange|javaplatform|iemobile|windows phone|samsung|htc|opera mobile|opera mobi|opera mini|presto|huawei|blazer|bolt|doris|fennec|gobrowser|iris|maemo browser|mib|cldc|minimo|semc-browser|skyfire|teashark|teleca|uzard|uzardweb|meego|nokia|bb10|playbook)/gi)&&(screen.width>=480&&screen.height>=800||screen.width>=800&&screen.height>=480||navigator.userAgent.match(/ipad/gi)),WIN:i(window),ismany:!1};return{init:n.once(g)}})}();